{
  "Routes": [
    {
      "DownstreamPathTemplate": "/api/Patient",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "patient-service",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/patients",
      "UpstreamHttpMethod": [ "GET" ],
      "SwaggerKey": "patients",
      "QoSOptions": {
        "ExceptionsAllowedBeforeBreaking": 2,
        "DurationOfBreak": 2000,
        "TimeoutValue": 2000
      },
      "Fallback": {
        "DownstreamPathTemplate": "/static/fallback/patients"
      }
    },
    {
      "DownstreamPathTemplate": "/api/Patient",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "patient-service",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/patients",
      "UpstreamHttpMethod": [ "POST" ],
      "SwaggerKey": "patients",
      "QoSOptions": {
        "ExceptionsAllowedBeforeBreaking": 2,
        "DurationOfBreak": 2000,
        "TimeoutValue": 2000
      },
      "Fallback": {
        "DownstreamPathTemplate": "/static/fallback/patients"
      }
    },
    {
      "DownstreamPathTemplate": "/api/Patient/{id}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "patient-service",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/patients/{id}",
      "UpstreamHttpMethod": [ "GET" ],
      "SwaggerKey": "patients",
      "QoSOptions": {
        "ExceptionsAllowedBeforeBreaking": 2,
        "DurationOfBreak": 2000,
        "TimeoutValue": 2000
      },
      "Fallback": {
        "DownstreamPathTemplate": "/static/fallback/patients/{id}"
      }
    },
    {
      "DownstreamPathTemplate": "/api/Patient/{id}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "patient-service",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/patients/{id}",
      "UpstreamHttpMethod": [ "PUT" ],
      "SwaggerKey": "patients",
      "QoSOptions": {
        "ExceptionsAllowedBeforeBreaking": 2,
        "DurationOfBreak": 2000,
        "TimeoutValue": 2000
      },
      "Fallback": {
        "DownstreamPathTemplate": "/static/fallback/patients/{id}"
      }
    },
    {
      "DownstreamPathTemplate": "/api/Patient/{id}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "patient-service",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/patients/{id}",
      "UpstreamHttpMethod": [ "DELETE" ],
      "SwaggerKey": "patients",
      "QoSOptions": {
        "ExceptionsAllowedBeforeBreaking": 2,
        "DurationOfBreak": 2000,
        "TimeoutValue": 2000
      },
      "Fallback": {
        "DownstreamPathTemplate": "/static/fallback/patients/{id}"
      }
    },
    {
      "DownstreamPathTemplate": "/api/Measurements",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "measurement-service",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/measurements",
      "UpstreamHttpMethod": [ "GET" ],
      "SwaggerKey": "measurements",
      "QoSOptions": {
        "ExceptionsAllowedBeforeBreaking": 2,
        "DurationOfBreak": 2000,
        "TimeoutValue": 2000
      },
      "Fallback": {
        "DownstreamPathTemplate": "/static/fallback/measurements"
      }
    },
    {
      "DownstreamPathTemplate": "/api/Measurements",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "measurement-service",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/measurements",
      "UpstreamHttpMethod": [ "POST" ],
      "SwaggerKey": "measurements",
      "QoSOptions": {
        "ExceptionsAllowedBeforeBreaking": 2,
        "DurationOfBreak": 2000,
        "TimeoutValue": 2000
      },
      "Fallback": {
        "DownstreamPathTemplate": "/static/fallback/measurements"
      }
    },
    {
      "DownstreamPathTemplate": "/api/Measurements/{ssn}",
      "DownstreamScheme": "http",
      "DownstreamHostAndPorts": [
        {
          "Host": "measurement-service",
          "Port": 8080
        }
      ],
      "UpstreamPathTemplate": "/measurements/{ssn}",
      "UpstreamHttpMethod": [ "GET" ],
      "SwaggerKey": "measurements",
      "QoSOptions": {
        "ExceptionsAllowedBeforeBreaking": 2,
        "DurationOfBreak": 2000,
        "TimeoutValue": 2000
      },
      "Fallback": {
        "DownstreamPathTemplate": "/static/fallback/measurements/{ssn}"
      }
    }
  ],
  "SwaggerEndPoints": [
    {
      "Key": "patients",
      "Config": [
        {
          "Name": "Patient Service",
          "Version": "v1",
          "Url": "http://patient-service:8080/swagger/v1/swagger.json"
        }
      ]
    },
    {
      "Key": "measurements",
      "Config": [
        {
          "Name": "Measurement Service",
          "Version": "v1",
          "Url": "http://measurement-service:8080/swagger/v1/swagger.json"
        }
      ]
    }
  ],
  "GlobalConfiguration": {
    "BaseUrl": "http://localhost:5001",
    "StaticFallback": {
      "/static/fallback/patients": {
        "Content": { "Message": "The Patient service is unavailable. Please try again later." },
        "ContentType": "application/json",
        "StatusCode": 503
      },
      "/static/fallback/patients/{id}": {
        "Content": { "Message": "The Patient service is unavailable for Patient ID: {id}. Please try again later." },
        "ContentType": "application/json",
        "StatusCode": 503
      },
      "/static/fallback/measurements": {
        "Content": { "Message": "The Measurement service is unavailable. Please try again later." },
        "ContentType": "application/json",
        "StatusCode": 503
      },
      "/static/fallback/measurements/{ssn}": {
        "Content": { "Message": "Measurement data is unavailable for SSN: {ssn}. Please try again later." },
        "ContentType": "application/json",
        "StatusCode": 503
      }
    }
  }
}
